<!doctype html>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script type="module">
import workway from 'https://unpkg.com/workway/esm';

workway('analyzer.js').then(({namespace}) => {
  const data = {arr: []};
  data.arr.push(data);
  data.data = data;
  namespace.analyze(data)
            .then(
              data => {
                if (
                  data &&
                  data.arr &&
                  data.arr[0] === data &&
                  data.arr.length === 1 &&
                  data.data === data
                )
                  document.body.textContent = 'it works ðŸŽ‰';
                else
                  throw new Error('unable to solve recursion');
              },
              console.error
            );
});
</script>
